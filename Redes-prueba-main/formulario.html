<!doctype html>
<html lang="es">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>Formulario con Variables</title>
<link rel="stylesheet" href="ejercicio1.css">

<style>
/* Profesor-like minimal layout (keeps your own CSS) */
body.prof-theme { font-family: Arial, sans-serif; margin:0; background: linear-gradient(#cfcfcf, #6f6f6f); }
.prof-header { background:#e9e6d0; padding:18px; text-align:center; font-weight:bold; }
.prof-container { max-width:1100px; margin:30px auto; padding:10px; }
.table-header { background:#c84b4b; color:#200; padding:12px 0; display:flex; gap:0; align-items:center; }
.table-header .col { flex:1; text-align:center; font-size:12px; font-weight:600; text-transform:uppercase; padding:6px 4px; }
.footer { text-align:center; padding:16px; margin-top:20px; background:rgba(0,0,0,0.05); }
.modal-overlay { position:fixed; inset:0; background:rgba(0,0,0,0.45); display:flex; align-items:center; justify-content:center; }
.modal-box { width:80%; max-width:1000px; background:#efe9d0; border:1px solid #bfb4a0; box-shadow:0 0 0 6px rgba(0,0,0,0.08); }
.modal-header { background:#c9c0c0; padding:12px 18px; font-weight:bold; }
.modal-body { padding:20px; display:flex; gap:30px; }
.input-box { width:100%; padding:10px; border:1px solid #9a9a9a; background:#e7e7e7; margin-bottom:12px; }
@media (max-width:800px){ .modal-body{flex-direction:column;} .table-header .col{font-size:11px;} }
</style>
</head>
<body>
<div class="prof-header">Artículos</div>
<div class="prof-container">
  <div style="display:flex; justify-content:flex-end; gap:12px; margin:10px 0;">
    <button onclick="document.getElementById('modal-overlay').style.display='flex'">Abrir DIV modal</button>
  </div>

  <div id="modal-overlay" class="modal-overlay" style="display:flex;">
    <div class="modal-box" role="dialog" aria-modal="true">
      <div class="modal-header">Encabezado modal <button style="float:right;" onclick="document.getElementById('modal-overlay').style.display='none'">X</button></div>
      <div class="modal-body">
        <!-- original content placed below -->
        <div style="flex:1; min-width:300px; max-width:700px;">
          
<header><h1>Formulario para ALTA</h1><p style="text-align:center">Encabezados de Notas de Débito</p></header>
<main>
<form id="form" class="card">
<div>
<label for="nro">NroComprobante:</label>
<input id="nro" required>
</div>
<div>
<label for="tipo">TipoComprobante:</label>
<select id="tipo" required></select>
</div>
<div>
<label for="fact">NroFacturaImputada:</label>
<input id="fact" required>
</div>
<div>
<label for="cliente">CodCliente:</label>
<input id="cliente" required>
</div>
<div>
<label for="razon">RazonSocial:</label>
<input id="razon" required>
</div>
<div>
<label for="fecha">FechaComprobante:</label>
<input id="fecha" type="date" required>
</div>
<div>
<label for="total">TotalComprobante:</label>
<input id="total" type="number" step="0.01" required>
</div>
<div>
<label for="file">Archivo adjunto:</label>
<input id="file" type="file">
</div>
<button class="btn" id="send" type="submit">ENVIAR</button>
<button class="ghost" id="reset" type="button">CANCELAR</button>
</form>
</main>
<script>
(function(){
const tipo=document.getElementById('tipo');
fetch('notas_debito.json').then(r=>r.json()).then(j=>{(j.tipos_comprobante_disponibles||[]).forEach(t=>{const o=document.createElement('option');o.value=t.codigo_tipo;o.textContent=t.codigo_tipo+' - '+t.descripcion_tipo;tipo.appendChild(o)})});
document.getElementById('form').addEventListener('submit',function(e){e.preventDefault();const n={nro_comprobante:document.getElementById('nro').value,nro_de_factura_imputada:document.getElementById('fact').value,tipo_comprobante:{codigo_tipo:document.getElementById('tipo').value,descripcion_tipo:document.getElementById('tipo').selectedOptions[0]?.text.split(' - ')[1]},cod_cliente:document.getElementById('cliente').value,razon_social:document.getElementById('razon').value,fecha_comprobante:document.getElementById('fecha').value,total_comprobante:parseFloat(document.getElementById('total').value)};fetch('notas_debito.json').then(r=>r.json()).then(j=>{j.encabezados_notas_debito.push(n);this.reset();alert('Guardado (temporal)')})});
document.getElementById('reset').addEventListener('click',function(){document.getElementById('form').reset()});
})();
</script>

        </div>
      </div>
      <div style="padding:12px; text-align:center; font-weight:bold;">Pie del formulario</div>
    </div>
  </div>

  <div class="footer">Pie</div>
</div>
</body>
</html>